<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>yolov5éƒ¨ç½²å…¨æµç¨‹</title>
      <link href="/2024/07/23/yolov5-bu-shu-liu-cheng/"/>
      <url>/2024/07/23/yolov5-bu-shu-liu-cheng/</url>
      
        <content type="html"><![CDATA[<p>æœ¬æ•™ç¨‹æ˜¯åŸºäºyolovåœ¨window11éƒ¨ç½²çš„å…¥é—¨æ•™ç¨‹ï¼Œéƒ¨åˆ†å†…å®¹å’Œæºç æ‘˜è‡ª<a href="https://blog.csdn.net/weixin_73785971/article/details/139389534?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=%E4%BD%BF%E7%94%A8yolov5%E5%AE%9E%E7%8E%B0%E5%88%86%E8%BE%A8%E7%9F%AD%E8%A2%96%E5%92%8C%E9%95%BF%E8%A2%96&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-1-139389534.142">ï¼ˆå®æˆ˜ï¼‰ç”¨yolov5å®ç°å›¾åƒè¯†åˆ«_yolov5è¯†åˆ«-CSDNåšå®¢</a></p><p>å¦‚æœ‰é”™è¯¯ï¼Œè¯·åœ¨è¯„è®ºåŒºæŒ‡å‡º</p><h2 id="1-ä¸‹è½½yolov5é¡¹ç›®"><a href="#1-ä¸‹è½½yolov5é¡¹ç›®" class="headerlink" title="1.ä¸‹è½½yolov5é¡¹ç›®"></a>1.ä¸‹è½½yolov5é¡¹ç›®</h2><p>åœ¨GitHubä¸Šä¸‹è½½yolov5ï¼Œé“¾æ¥åœ¨ä¸‹é¢<br><a href="https://github.com/ultralytics/yolov5">https://github.com/ultralytics/yolov5</a><br>ä¸‹è½½å®Œæˆåè§£å‹åˆ°åˆé€‚ä½ç½®å³å¯</p><h2 id="2-å®‰è£…Anoconda-Pycharm"><a href="#2-å®‰è£…Anoconda-Pycharm" class="headerlink" title="2.å®‰è£…Anoconda Pycharm"></a>2.å®‰è£…Anoconda Pycharm</h2><p>Anocandaå®‰è£…æ•™ç¨‹<br><a href="https://blog.csdn.net/fan18317517352/article/details/123035625">https://blog.csdn.net/fan18317517352/article/details/123035625</a><br>PyCharmå®‰è£…æ•™ç¨‹<br><a href="https://blog.csdn.net/qq_44809707/article/details/122501118">https://blog.csdn.net/qq_44809707/article/details/122501118</a><br>æŒ‰ç…§æ•™ç¨‹å®‰è£…å³å¯ï¼Œæ³¨æ„<strong>æ­£ç¡®é…ç½®ç¯å¢ƒå˜é‡</strong></p><h2 id="3-å®‰è£…CUDAï¼ŒCudnnï¼ŒPytorch-å…³é”®"><a href="#3-å®‰è£…CUDAï¼ŒCudnnï¼ŒPytorch-å…³é”®" class="headerlink" title="3.å®‰è£…CUDAï¼ŒCudnnï¼ŒPytorch(å…³é”®)"></a>3.å®‰è£…CUDAï¼ŒCudnnï¼ŒPytorch(å…³é”®)</h2><p>å¦‚æœé»˜è®¤å®‰è£…é¡¹ç›®è‡ªå¸¦çš„requirements.txtä¸­çš„åŒ…çš„è¯ï¼Œæœ€åä¼š<strong>ä»¥cpuè·‘é¡¹ç›®ï¼Œè¿™å°†ä¼šå¯¼è‡´è®­ç»ƒæ¨¡å‹çš„é€Ÿåº¦éå¸¸æ…¢</strong>ï¼ŒåŸå› æ˜¯requirements.txtä¸­çš„pytorchä¸ºcpuç‰ˆæœ¬ï¼Œè§£å†³åŠæ³•å¦‚ä¸‹ï¼š</p><p>å…ˆæŒ‰ç…§æ•™ç¨‹å®‰è£…åˆé€‚çš„cudaï¼ŒCudnnï¼š</p><p><a href="https://blog.csdn.net/m0_45447650/article/details/123704930?ops_request_misc=%7B%22request_id%22:%22172173622416800175759760%22,%22scm%22:%2220140713.130102334..%22%7D&amp;request_id=172173622416800175759760&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-123704930-null-null.142%5Ev100%5Epc_search_result_base1&amp;utm_term=cuda%E5%AE%89%E8%A3%85&amp;spm=1018.2226.3001.4187">CUDAå®‰è£…æ•™ç¨‹ï¼ˆè¶…è¯¦ç»†ï¼‰-CSDNåšå®¢</a></p><p>æ¥ç€å®‰è£…cudaç‰ˆæœ¬å¯¹åº”çš„pytorchï¼Œæ•™ç¨‹å¦‚ä¸‹ï¼ˆ<strong>åˆ‡è®°åˆ‡è®°ï¼ï¼ï¼ï¼ï¼ å®‰è£…Gpuç‰ˆæœ¬çš„</strong>ï¼‰ï¼š</p><p><a href="https://blog.csdn.net/weixin_44752340/article/details/130542629?ops_request_misc=%7B%22request_id%22:%22172169655016800188568943%22,%22scm%22:%2220140713.130102334..%22%7D&amp;request_id=172169655016800188568943&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-130542629-null-null.142%5Ev100%5Epc_search_result_base1&amp;utm_term=pytorch&amp;spm=1018.2226.3001.4187">2023æœ€æ–°pytorchå®‰è£…ï¼ˆè¶…è¯¦ç»†ç‰ˆï¼‰-CSDNåšå®¢</a></p><h2 id="4-ç”¨Anocondaåˆ›å»ºè™šæ‹Ÿç¯å¢ƒ"><a href="#4-ç”¨Anocondaåˆ›å»ºè™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="4.ç”¨Anocondaåˆ›å»ºè™šæ‹Ÿç¯å¢ƒ"></a>4.ç”¨Anocondaåˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</h2><p>å…ˆæŒ‰win+r ï¼Œè¾“å…¥cmd</p><p>åˆ›å»ºè™šæ‹Ÿç¯å¢ƒconda create -n yolov5</p><p>æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ   conda activate yolov5</p><p><strong>æ³¨é‡Šæ‰ requirements.txtä¸­çš„</strong></p><p>15è¡Œ torch&gt;=1.8.0  # see <a href="https://pytorch.org/get-started/locally">https://pytorch.org/get-started/locally</a> (recommended)<br>16è¡Œ torchvision&gt;=0.9.0</p><p>åœ¨è¡Œé¦–åŠ #å³å¯</p><p>å®‰è£…ä¾èµ–åº“conda install -r requirements.txt</p><p>å¦‚æœä¸‹è½½ç‰¹åˆ«æ…¢çš„è¯æ³¨æ„æ˜¯å¦æ˜¯å› ä¸ºæ²¡æœ‰<strong>æ›´æ¢å›½å†…é•œåƒ</strong></p><h2 id="5-ç”¨Pycharmæ‰“å¼€é¡¹ç›®å¹¶æ›´æ”¹ç¯å¢ƒ"><a href="#5-ç”¨Pycharmæ‰“å¼€é¡¹ç›®å¹¶æ›´æ”¹ç¯å¢ƒ" class="headerlink" title="5.ç”¨Pycharmæ‰“å¼€é¡¹ç›®å¹¶æ›´æ”¹ç¯å¢ƒ"></a>5.ç”¨Pycharmæ‰“å¼€é¡¹ç›®å¹¶æ›´æ”¹ç¯å¢ƒ</h2><p>æ‰“å¼€pycharm</p><p>æ‰“å¼€é¡¹ç›®æ‰€åœ¨æ–‡ä»¶å¤¹</p><p>æ›´æ”¹ç¯å¢ƒä¸ºåˆšåˆ›å»ºçš„yolov5ç¯å¢ƒ</p><p>è¿™ä¸€æ­¥æ•™ç¨‹å¦‚ä¸‹ï¼š</p><p>ç¬¬ä¸€æ¬¡ç”¨å…ˆæ¿€æ´»condaç¯å¢ƒ<a href="https://blog.csdn.net/Father_Of_Soft/article/details/132582043">æ¿€æ´»Condaç¯å¢ƒå¹¶åœ¨pycharmä½¿ç”¨_pycharmæ¿€æ´»condaç¯å¢ƒ-CSDNåšå®¢</a></p><p>å†é€‰æ‹© <a href="https://blog.csdn.net/Aer_7z/article/details/131801694?spm=1001.2101.3001.6650.2&amp;utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Ctr-2-131801694-blog-123141645.235%5Ev43%5Epc_blog_bottom_relevance_base7&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Ctr-2-131801694-blog-123141645.235%5Ev43%5Epc_blog_bottom_relevance_base7&amp;utm_relevant_index=5">pycharmå¦‚ä½•é…ç½®Anacondaè™šæ‹Ÿç¯å¢ƒ_pycharmé…ç½®anacondaè¿è¡Œç¯å¢ƒ-CSDNåšå®¢</a></p><p>é…ç½®å®Œæˆåå¯ä»¥å…ˆè¿è¡Œé¡¹ç›®ç›®å½•ä¸­çš„detect.pyæ–‡ä»¶ï¼Œå†çœ‹yolov5-master\runs\detectä¸­çš„è¿è¡Œç»“æœ</p><p>å¦‚æœæœ‰ç»“æœåˆ™æ€ä¹ˆç¯å¢ƒé…ç½®æˆåŠŸ</p><h2 id="6-åˆ¶ä½œæ•°æ®é›†"><a href="#6-åˆ¶ä½œæ•°æ®é›†" class="headerlink" title="6.åˆ¶ä½œæ•°æ®é›†"></a>6.åˆ¶ä½œæ•°æ®é›†</h2><p>å…ˆæ‰¾æ•°æ®é›†</p><p><a href="https://blog.csdn.net/luochao5862426/article/details/79564311?ops_request_misc=%7B%22request_id%22:%22172173859316800225532438%22,%22scm%22:%2220140713.130102334..%22%7D&amp;request_id=172173859316800225532438&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-79564311-null-null.142%5Ev100%5Epc_search_result_base1&amp;utm_term=%E6%95%B0%E6%8D%AE%E9%9B%86%E7%BD%91%E7%AB%99&amp;spm=1018.2226.3001.4187">å²ä¸Šæœ€å…¨æ•°æ®é›†ç½‘ç«™æ±‡æ€»-CSDNåšå®¢</a></p><p>ä¸‹è½½æ ‡æ³¨å·¥å…·labelimgï¼ŒåŒæ—¶äº†è§£ä¸€äº›å¸¸è§ç”¨æ³•</p><p><a href="https://blog.csdn.net/qq_45688164/article/details/136070818?ops_request_misc=%7B%22request_id%22:%22172173866216800180650469%22,%22scm%22:%2220140713.130102334..%22%7D&amp;request_id=172173866216800180650469&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-136070818-null-null.142%5Ev100%5Epc_search_result_base1&amp;utm_term=pycharm%E4%B8%8B%E8%BD%BDlabelimg&amp;spm=1018.2226.3001.4187">labelimg åœ¨pycharmä¸‹è½½ä½¿ç”¨_pycharmå®‰è£…labelimg-CSDNåšå®¢</a></p><p>åœ¨yolov5çš„æ ¹ç›®å½•ä¸‹å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ datasetï¼Œç„¶ååœ¨dataseté‡Œå»ºä¸‰ä¸ªæ–‡ä»¶å¤¹ imagesï¼Œimagesetsï¼Œ annotationsï¼Œç„¶ååœ¨imagesetsé‡Œæ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹mainã€‚imagesæ–‡ä»¶å¤¹æ˜¯å­˜æ”¾æœªè¯†åˆ«çš„jpgæ–‡ä»¶ï¼ˆä¹Ÿå°±æ˜¯æˆ‘ä»¬ç”¨æ¥è®­ç»ƒæ¨¡å‹çš„åŸå§‹å›¾ç‰‡ï¼‰</p><p>å¤§æ¦‚æ ¼å¼</p><p>yolov5(é¡¹ç›®æ–‡ä»¶å¤¹)</p><p>â€‹â€”â€”dataset</p><p>â€‹â€”â€”images(è®­ç»ƒæ¨¡å‹çš„åŸå§‹ç…§ç‰‡)</p><p>â€‹â€”â€”imagesets</p><p>â€‹â€”â€”main</p><p>â€‹â€”â€”annotationsï¼ˆæ ‡æ³¨è¿‡çš„xmlæ–‡ä»¶ï¼‰</p><p>å°†éœ€è¦æ ‡æ³¨çš„jpgå›¾ç‰‡æ”¾åˆ°ä¸Šè¿°imagesæ–‡ä»¶å¤¹ä¸­ï¼Œæ‰“å¼€labelImgï¼Œç”¨PascalVOCæ¨¡å¼ï¼ŒChange Save Diræ”¹ä¸º annotationsæ–‡ä»¶å¤¹ï¼ˆä¸Šè¿°åˆ›å»ºçš„ï¼‰</p><p>ä½¿ç”¨ï¼š</p><p>æŒ‰wå‘¼å‡ºçŸ©å½¢æ¡†ç”¨æ¥æ ‡è®°ï¼ŒæŒ‰dæ˜¯ä¸‹ä¸€å¼ ï¼ŒæŒ‰aæ˜¯ä¸Šä¸€å¼ ï¼Œå› ä¸ºå‰é¢å·²ç»æ‰“å¼€äº†è‡ªåŠ¨ä¿å­˜ï¼Œé‚£ä¹ˆannotationsé‡Œä¼šè‡ªåŠ¨ä¿å­˜äº†xmlæ–‡ä»¶ã€‚</p><h2 id="7-å¢åŠ ä¸‰ä¸ªæ–‡ä»¶"><a href="#7-å¢åŠ ä¸‰ä¸ªæ–‡ä»¶" class="headerlink" title="7.å¢åŠ ä¸‰ä¸ªæ–‡ä»¶"></a>7.å¢åŠ ä¸‰ä¸ªæ–‡ä»¶</h2><h4 id="ç¬¬ä¸€ä¸ª"><a href="#ç¬¬ä¸€ä¸ª" class="headerlink" title="ç¬¬ä¸€ä¸ª"></a>ç¬¬ä¸€ä¸ª</h4><p>åœ¨datasetæ–‡ä»¶å¤¹ä¸­åˆ›å»ºpyä»£ç split_train_val.pyï¼š</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding:utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line"></span><br><span class="line">parser = argparse.ArgumentParser()</span><br><span class="line"><span class="comment">#xmlæ–‡ä»¶çš„åœ°å€ï¼Œæ ¹æ®è‡ªå·±çš„æ•°æ®è¿›è¡Œä¿®æ”¹ xmlä¸€èˆ¬å­˜æ”¾åœ¨annotationsä¸‹</span></span><br><span class="line">parser.add_argument(<span class="string">'--xml_path'</span>, default=<span class="string">'annotations'</span>, <span class="built_in">type</span>=<span class="built_in">str</span>, <span class="built_in">help</span>=<span class="string">'input xml label path'</span>)</span><br><span class="line"><span class="comment">#æ•°æ®é›†çš„åˆ’åˆ†ï¼Œåœ°å€é€‰æ‹©è‡ªå·±æ•°æ®ä¸‹çš„ImageSets/Main</span></span><br><span class="line">parser.add_argument(<span class="string">'--txt_path'</span>, default=<span class="string">'imagesets/main'</span>, <span class="built_in">type</span>=<span class="built_in">str</span>, <span class="built_in">help</span>=<span class="string">'output txt label path'</span>)</span><br><span class="line">opt = parser.parse_args()</span><br><span class="line"></span><br><span class="line">trainval_percent = <span class="number">1.0</span></span><br><span class="line">train_percent = <span class="number">0.9</span></span><br><span class="line">xmlfilepath = opt.xml_path</span><br><span class="line">txtsavepath = opt.txt_path</span><br><span class="line">total_xml = os.listdir(xmlfilepath)</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(txtsavepath):</span><br><span class="line">    os.makedirs(txtsavepath)</span><br><span class="line"></span><br><span class="line">num = <span class="built_in">len</span>(total_xml)</span><br><span class="line">list_index = <span class="built_in">range</span>(num)</span><br><span class="line">tv = <span class="built_in">int</span>(num * trainval_percent)</span><br><span class="line">tr = <span class="built_in">int</span>(tv * train_percent)</span><br><span class="line">trainval = random.sample(list_index, tv)</span><br><span class="line">train = random.sample(trainval, tr)</span><br><span class="line"></span><br><span class="line">file_trainval = <span class="built_in">open</span>(txtsavepath + <span class="string">'/trainval.txt'</span>, <span class="string">'w'</span>)</span><br><span class="line">file_test = <span class="built_in">open</span>(txtsavepath + <span class="string">'/test.txt'</span>, <span class="string">'w'</span>)</span><br><span class="line">file_train = <span class="built_in">open</span>(txtsavepath + <span class="string">'/train.txt'</span>, <span class="string">'w'</span>)</span><br><span class="line">file_val = <span class="built_in">open</span>(txtsavepath + <span class="string">'/val.txt'</span>, <span class="string">'w'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> list_index:</span><br><span class="line">    name = total_xml[i][:-<span class="number">4</span>] + <span class="string">'\n'</span></span><br><span class="line">    <span class="keyword">if</span> i <span class="keyword">in</span> trainval:</span><br><span class="line">        file_trainval.write(name)</span><br><span class="line">        <span class="keyword">if</span> i <span class="keyword">in</span> train:</span><br><span class="line">            file_train.write(name)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            file_val.write(name)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        file_test.write(name)</span><br><span class="line"></span><br><span class="line">file_trainval.close()</span><br><span class="line">file_train.close()</span><br><span class="line">file_val.close()</span><br><span class="line">file_test.close()**è¿è¡Œ**äº†ä¸Šé¢è¿™ä¸²ä»£ç ä¹‹åï¼Œä¼šåœ¨imagesets\mainé‡Œç”Ÿæˆå››ä¸ªæ–‡ä»¶</span><br><span class="line"></span><br><span class="line">åˆ†åˆ«ä¸ºtest.txt    train.txt     trainval.txtval.txt</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h4 id="ç¬¬äºŒä¸ª"><a href="#ç¬¬äºŒä¸ª" class="headerlink" title="ç¬¬äºŒä¸ª"></a>ç¬¬äºŒä¸ª</h4><p>åœ¨datasetæ–‡ä»¶å¤¹ä¸­æ–°å»ºpyä»£ç æ–‡ä»¶voc_label.pyï¼š</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> xml.etree.ElementTree <span class="keyword">as</span> ET</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> os <span class="keyword">import</span> getcwd</span><br><span class="line"></span><br><span class="line">sets = [<span class="string">'train'</span>, <span class="string">'val'</span>, <span class="string">'test'</span>]</span><br><span class="line">classes = [<span class="string">"bus"</span>]   <span class="comment"># æ”¹æˆè‡ªå·±çš„ç±»åˆ«ï¼Œæˆ‘åªç”¨äºè¯†åˆ«busæ‰€ä»¥åªæœ‰ä¸€ä¸ªæ ‡ç­¾</span></span><br><span class="line">abs_path = os.getcwd()</span><br><span class="line"><span class="built_in">print</span>(abs_path)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">convert</span>(<span class="params">size, box</span>):</span><br><span class="line">    dw = <span class="number">1.</span> / (size[<span class="number">0</span>])</span><br><span class="line">    dh = <span class="number">1.</span> / (size[<span class="number">1</span>])</span><br><span class="line">    x = (box[<span class="number">0</span>] + box[<span class="number">1</span>]) / <span class="number">2.0</span> - <span class="number">1</span></span><br><span class="line">    y = (box[<span class="number">2</span>] + box[<span class="number">3</span>]) / <span class="number">2.0</span> - <span class="number">1</span></span><br><span class="line">    w = box[<span class="number">1</span>] - box[<span class="number">0</span>]</span><br><span class="line">    h = box[<span class="number">3</span>] - box[<span class="number">2</span>]</span><br><span class="line">    x = x * dw</span><br><span class="line">    w = w * dw</span><br><span class="line">    y = y * dh</span><br><span class="line">    h = h * dh</span><br><span class="line">    <span class="keyword">return</span> x, y, w, h</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">convert_annotation</span>(<span class="params">image_id</span>):</span><br><span class="line">    <span class="comment">#ä¿®æ”¹è‡ªå·±ç”µè„‘ä¸Šå¯¹åº”æ–‡ä»¶ç›®å½•ï¼Œinfileæ˜¯æ‰“å¼€xmlæ–‡ä»¶çš„</span></span><br><span class="line">    in_file = <span class="built_in">open</span>(<span class="string">'D:/develop-python/yolov5-6.0/dataset/annotations/%s.xml'</span> % (image_id), encoding=<span class="string">'UTF-8'</span>)</span><br><span class="line">    out_file = <span class="built_in">open</span>(<span class="string">'D:/develop-python/yolov5-6.0/dataset/labels/%s.txt'</span> % (image_id), <span class="string">'w'</span>)</span><br><span class="line">    tree = ET.parse(in_file)</span><br><span class="line">    root = tree.getroot()</span><br><span class="line">    size = root.find(<span class="string">'size'</span>)</span><br><span class="line">    w = <span class="built_in">int</span>(size.find(<span class="string">'width'</span>).text)</span><br><span class="line">    h = <span class="built_in">int</span>(size.find(<span class="string">'height'</span>).text)</span><br><span class="line">    <span class="keyword">for</span> obj <span class="keyword">in</span> root.<span class="built_in">iter</span>(<span class="string">'object'</span>):</span><br><span class="line">        difficult = obj.find(<span class="string">'difficult'</span>)</span><br><span class="line">        <span class="keyword">if</span> difficult <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">            difficult = <span class="built_in">int</span>(difficult.text)  <span class="comment"># å‡è®¾difficultæ˜¯æ•´æ•°ç±»å‹</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            difficult = <span class="number">0</span>  <span class="comment"># æˆ–è€…ä½ å¯ä»¥è®¾ç½®ä¸€ä¸ªé»˜è®¤å€¼ï¼Œæˆ–è€…ä¸å¤„ç†difficultæ ‡ç­¾</span></span><br><span class="line">        cls = obj.find(<span class="string">'name'</span>).text</span><br><span class="line">        <span class="keyword">if</span> cls <span class="keyword">not</span> <span class="keyword">in</span> classes <span class="keyword">or</span> <span class="built_in">int</span>(difficult) == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        cls_id = classes.index(cls)</span><br><span class="line">        xmlbox = obj.find(<span class="string">'bndbox'</span>)</span><br><span class="line">        b = (<span class="built_in">float</span>(xmlbox.find(<span class="string">'xmin'</span>).text), <span class="built_in">float</span>(xmlbox.find(<span class="string">'xmax'</span>).text), <span class="built_in">float</span>(xmlbox.find(<span class="string">'ymin'</span>).text),</span><br><span class="line">             <span class="built_in">float</span>(xmlbox.find(<span class="string">'ymax'</span>).text))</span><br><span class="line">        b1, b2, b3, b4 = b</span><br><span class="line">        <span class="comment"># æ ‡æ³¨è¶Šç•Œä¿®æ­£</span></span><br><span class="line">        <span class="keyword">if</span> b2 &gt; w:</span><br><span class="line">            b2 = w</span><br><span class="line">        <span class="keyword">if</span> b4 &gt; h:</span><br><span class="line">            b4 = h</span><br><span class="line">        b = (b1, b2, b3, b4)</span><br><span class="line">        bb = convert((w, h), b)</span><br><span class="line">        out_file.write(<span class="built_in">str</span>(cls_id) + <span class="string">" "</span> + <span class="string">" "</span>.join([<span class="built_in">str</span>(a) <span class="keyword">for</span> a <span class="keyword">in</span> bb]) + <span class="string">'\n'</span>)</span><br><span class="line"></span><br><span class="line">wd = getcwd()</span><br><span class="line"><span class="keyword">for</span> image_set <span class="keyword">in</span> sets:</span><br><span class="line">    <span class="comment">#ä¿®æ”¹ä¸ºè‡ªå·±ç”µè„‘ä¸Šå¯¹åº”ç›®å½•</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(<span class="string">'D:/develop-python/yolov5-6.0/dataset/labels/'</span>):</span><br><span class="line">        os.makedirs(<span class="string">'D:/develop-python/yolov5-6.0/dataset/labels/'</span>)</span><br><span class="line">    image_ids = <span class="built_in">open</span>(<span class="string">'D:/develop-python/yolov5-6.0/dataset/imagesets/main/%s.txt'</span> % (image_set)).read().strip().split()</span><br><span class="line">    list_file = <span class="built_in">open</span>(<span class="string">'D:/develop-python/yolov5-6.0/dataset/%s.txt'</span> % (image_set), <span class="string">'w'</span>)</span><br><span class="line">    <span class="keyword">for</span> image_id <span class="keyword">in</span> image_ids:</span><br><span class="line">        list_file.write(abs_path + <span class="string">'\images\%s.jpg\n'</span> % (image_id))</span><br><span class="line">        convert_annotation(image_id)</span><br><span class="line">    list_file.close()</span><br></pre></td></tr></tbody></table></figure><p><strong>æ³¨æ„ä¿®æ”¹ä»£ç ä¸­çš„ç›®å½•</strong></p><p><strong>è¿è¡Œ</strong>ådatasetæ–‡ä»¶å¤¹ä¸­ä¼šç”Ÿæˆlabelsæ–‡ä»¶å¤¹ï¼Œä»¥åŠä¸‰ä¸ªtxtæ–‡ä»¶ï¼štest.txtï¼Œtrain.txtï¼Œval.txtï¼š</p><h4 id="ç¬¬ä¸‰ä¸ª"><a href="#ç¬¬ä¸‰ä¸ª" class="headerlink" title="ç¬¬ä¸‰ä¸ª"></a>ç¬¬ä¸‰ä¸ª</h4><p>ç„¶ååœ¨dataæ–‡ä»¶å¤¹ä¸­æ–°å»ºCustomData.yamlï¼š</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">train: D:\dev\yolov5-master\dataset\train.txt <span class="comment">#æ³¨æ„æ›´æ”¹åœ°å€</span></span><br><span class="line">val: D:\dev\yolov5-master\dataset\val.txt <span class="comment">#æ³¨æ„æ›´æ”¹åœ°å€</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># number of classesï¼Œæœ‰å¤šå°‘ä¸ªæ ‡ç­¾å°±å¡«å¤šå°‘ä¸ª</span></span><br><span class="line"></span><br><span class="line">nc: <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># class names        æˆ‘åªæœ‰ä¸€ä¸ªbusæ ‡ç­¾æ‰€ä»¥å†™bus</span></span><br><span class="line"></span><br><span class="line">names: </span><br><span class="line">  <span class="number">0</span>: é•¿è¢–</span><br><span class="line">  <span class="number">1</span>: çŸ­è¢–</span><br><span class="line">  <span class="number">2</span>: OK</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h2 id="8-ä»‹ç»å¹¶ä¿®æ”¹train-py"><a href="#8-ä»‹ç»å¹¶ä¿®æ”¹train-py" class="headerlink" title="8.ä»‹ç»å¹¶ä¿®æ”¹train.py"></a>8.ä»‹ç»å¹¶ä¿®æ”¹train.py</h2><p><strong>train.py</strong></p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">def parse_opt(known=False):</span><br><span class="line">    parser = argparse.ArgumentParser()</span><br><span class="line">    parser.add_argument('--weights', type=str, default=ROOT / 'yolov5s.pt', help='initial weights path')</span><br><span class="line">    parser.add_argument('--cfg', type=str, default='models/yolov5s.yaml', help='model.yaml path')</span><br><span class="line">    parser.add_argument('--data', type=str, default=ROOT / 'data/CustomData.yaml', help='dataset.yaml path')</span><br><span class="line">    parser.add_argument('--hyp', type=str, default=ROOT / 'data/hyps/hyp.scratch.yaml', help='hyperparameters path')</span><br><span class="line">    parser.add_argument('--epochs', type=int, default=300)</span><br><span class="line">    parser.add_argument('--batch-size', type=int, default=16, help='total batch size for all GPUs')</span><br><span class="line">    parser.add_argument('--imgsz', '--img', '--img-size', type=int, default=640, help='train, val image size (pixels)')</span><br><span class="line">    parser.add_argument('--rect', action='store_true', help='rectangular training')</span><br><span class="line">    parser.add_argument('--resume', nargs='?', const=True, default=False, help='resume most recent training')</span><br><span class="line">    parser.add_argument('--nosave', action='store_true', help='only save final checkpoint')</span><br><span class="line">    parser.add_argument('--noval', action='store_true', help='only validate final epoch')</span><br><span class="line">    parser.add_argument('--noautoanchor', action='store_true', help='disable autoanchor check')</span><br><span class="line">    parser.add_argument('--evolve', type=int, nargs='?', const=300, help='evolve hyperparameters for x generations')</span><br><span class="line">    parser.add_argument('--bucket', type=str, default='', help='gsutil bucket')</span><br><span class="line">    parser.add_argument('--cache', type=str, nargs='?', const='ram', help='--cache images in "ram" (default) or "disk"')</span><br><span class="line">    parser.add_argument('--image-weights', action='store_true', help='use weighted image selection for training')</span><br><span class="line">    parser.add_argument('--device', default='', help='cuda device, i.e. 0 or 0,1,2,3 or cpu')</span><br><span class="line">    parser.add_argument('--multi-scale', action='store_true', help='vary img-size +/- 50%%')</span><br><span class="line">    parser.add_argument('--single-cls', action='store_true', help='train multi-class data as single-class')</span><br><span class="line">    parser.add_argument('--adam', action='store_true', help='use torch.optim.Adam() optimizer')</span><br><span class="line">    parser.add_argument('--sync-bn', action='store_true', help='use SyncBatchNorm, only available in DDP mode')</span><br><span class="line">    parser.add_argument('--workers', type=int, default=8, help='maximum number of dataloader workers')</span><br><span class="line">    parser.add_argument('--project', default=ROOT / 'runs/train', help='save to project/name')</span><br><span class="line">    parser.add_argument('--name', default='exp', help='save to project/name')</span><br><span class="line">    parser.add_argument('--exist-ok', action='store_true', help='existing project/name ok, do not increment')</span><br><span class="line">    parser.add_argument('--quad', action='store_true', help='quad dataloader')</span><br><span class="line">    parser.add_argument('--linear-lr', action='store_true', help='linear LR')</span><br><span class="line">    parser.add_argument('--label-smoothing', type=float, default=0.0, help='Label smoothing epsilon')</span><br><span class="line">    parser.add_argument('--patience', type=int, default=100, help='EarlyStopping patience (epochs without improvement)')</span><br><span class="line">    parser.add_argument('--freeze', type=int, default=0, help='Number of layers to freeze. backbone=10, all=24')</span><br><span class="line">    parser.add_argument('--save-period', type=int, default=-1, help='Save checkpoint every x epochs (disabled if &lt; 1)')</span><br><span class="line">    parser.add_argument('--local_rank', type=int, default=-1, help='DDP parameter, do not modify')</span><br></pre></td></tr></tbody></table></figure><p>epochsï¼šæŒ‡çš„å°±æ˜¯è®­ç»ƒè¿‡ç¨‹ä¸­æ•´ä¸ªæ•°æ®é›†å°†è¢«è¿­ä»£å¤šå°‘æ¬¡ï¼Œé»˜è®¤æ˜¯300æ¬¡ï¼Œæ¬¡æ•°è¶Šå¤šæ¨¡å‹è¶Šç²¾å‡†èŠ±çš„æ—¶é—´ä¹Ÿè¶Šå¤š</p><p>batch-sizeï¼šä¸€æ¬¡çœ‹å®Œå¤šå°‘å¼ å›¾ç‰‡æ‰è¿›è¡Œæƒé‡æ›´æ–°ï¼Œæ¢¯åº¦ä¸‹é™çš„mini-batchã€‚</p><p>cfgï¼šå­˜å‚¨æ¨¡å‹ç»“æ„çš„é…ç½®æ–‡ä»¶</p><p>dataï¼šå­˜å‚¨è®­ç»ƒã€æµ‹è¯•æ•°æ®çš„æ–‡ä»¶</p><p>img-sizeï¼šè¾“å…¥å›¾ç‰‡å®½é«˜ã€‚</p><p>rectï¼šè¿›è¡ŒçŸ©å½¢è®­ç»ƒ</p><p>resumeï¼šæ¢å¤æœ€è¿‘ä¿å­˜çš„æ¨¡å‹å¼€å§‹è®­ç»ƒ</p><p>nosaveï¼šä»…ä¿å­˜æœ€ç»ˆcheckpoint</p><p>notestï¼šä»…æµ‹è¯•æœ€åçš„epoch</p><p>evolveï¼šè¿›åŒ–è¶…å‚æ•°</p><p>bucketï¼šgsutil bucket</p><p>cache-imagesï¼šç¼“å­˜å›¾åƒä»¥åŠ å¿«è®­ç»ƒé€Ÿåº¦</p><p>weightsï¼šæƒé‡æ–‡ä»¶è·¯å¾„</p><p>nameï¼š é‡å‘½åresults.txt to results_name.txt</p><p>deviceï¼šcuda device, i.e. 0 or 0,1,2,3 or cpu</p><p>adamï¼šä½¿ç”¨adamä¼˜åŒ–</p><p>multi-scaleï¼šå¤šå°ºåº¦è®­ç»ƒï¼Œimg-size +/- 50%</p><p>single-clsï¼šå•ç±»åˆ«çš„è®­ç»ƒé›†</p><p><strong>æˆ‘ä»¬éœ€è¦ä¿®æ”¹çš„æ˜¯weight ã€cfg ã€dataã€‚weightç”¨çš„æ˜¯æˆ‘ä»¬å‰é¢ä¸‹è½½çš„yolov5s.ptçš„æƒé‡æ–‡ä»¶ï¼Œcfgç”¨çš„å°±æ˜¯yolov5s.yamlï¼Œdataåˆ™ç”¨çš„æ˜¯æˆ‘ä»¬å‰ç¼–å†™çš„CustomData.yaml</strong></p><h2 id="9-ä»‹ç»detect-py"><a href="#9-ä»‹ç»detect-py" class="headerlink" title="9.ä»‹ç»detect.py"></a>9.ä»‹ç»detect.py</h2><p><strong>detect.py</strong></p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">def parse_opt():</span><br><span class="line">    parser = argparse.ArgumentParser()</span><br><span class="line">    parser.add_argument('--weights', nargs='+', type=str, default=ROOT /'yolov5s.pt' , help='model path(s)')</span><br><span class="line">    parser.add_argument('--source', type=str, default=ROOT / 'data/images', help='file/dir/URL/glob, 0 for webcam')</span><br><span class="line">    parser.add_argument('--imgsz', '--img', '--img-size', nargs='+', type=int, default=[640], help='inference size h,w')</span><br><span class="line">    parser.add_argument('--conf-thres', type=float, default=0.25, help='confidence threshold')</span><br><span class="line">    parser.add_argument('--iou-thres', type=float, default=0.45, help='NMS IoU threshold')</span><br><span class="line">    parser.add_argument('--max-det', type=int, default=1000, help='maximum detections per image')</span><br><span class="line">    parser.add_argument('--device', default='', help='cuda device, i.e. 0 or 0,1,2,3 or cpu')</span><br><span class="line">    parser.add_argument('--view-img', action='store_true', help='show results')</span><br><span class="line">    parser.add_argument('--save-txt', action='store_true', help='save results to *.txt')</span><br><span class="line">    parser.add_argument('--save-conf', action='store_true', help='save confidences in --save-txt labels')</span><br><span class="line">    parser.add_argument('--save-crop', action='store_true', help='save cropped prediction boxes')</span><br><span class="line">    parser.add_argument('--nosave', action='store_true', help='do not save images/videos')</span><br><span class="line">    parser.add_argument('--classes', nargs='+', type=int, help='filter by class: --classes 0, or --classes 0 2 3')</span><br><span class="line">    parser.add_argument('--agnostic-nms', action='store_true', help='class-agnostic NMS')</span><br><span class="line">    parser.add_argument('--augment', action='store_true', help='augmented inference')</span><br><span class="line">    parser.add_argument('--visualize', action='store_true', help='visualize features')</span><br><span class="line">    parser.add_argument('--update', action='store_true', help='update all models')</span><br><span class="line">    parser.add_argument('--project', default=ROOT / 'runs/detect', help='save results to project/name')</span><br><span class="line">    parser.add_argument('--name', default='exp', help='save results to project/name')</span><br><span class="line">    parser.add_argument('--exist-ok', action='store_true', help='existing project/name ok, do not increment')</span><br><span class="line">    parser.add_argument('--line-thickness', default=3, type=int, help='bounding box thickness (pixels)')</span><br><span class="line">    parser.add_argument('--hide-labels', default=False, action='store_true', help='hide labels')</span><br><span class="line">    parser.add_argument('--hide-conf', default=False, action='store_true', help='hide confidences')</span><br><span class="line">    parser.add_argument('--half', action='store_true', help='use FP16 half-precision inference')</span><br><span class="line">    parser.add_argument('--dnn', action='store_true', help='use OpenCV DNN for ONNX inference')</span><br><span class="line">    opt = parser.parse_args()</span><br><span class="line">    opt.imgsz *= 2 if len(opt.imgsz) == 1 else 1  # expand</span><br><span class="line">    print_args(FILE.stem, opt)</span><br><span class="line">    return opt</span><br></pre></td></tr></tbody></table></figure><p>weightsï¼šè®­ç»ƒçš„æƒé‡</p><p>sourceï¼šæµ‹è¯•æ•°æ®ï¼Œå¯ä»¥æ˜¯å›¾ç‰‡/è§†é¢‘è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯â€™0â€™(ç”µè„‘è‡ªå¸¦æ‘„åƒå¤´),ä¹Ÿå¯ä»¥æ˜¯rtspç­‰è§†é¢‘æµ</p><p>outputï¼šç½‘ç»œé¢„æµ‹ä¹‹åçš„å›¾ç‰‡/è§†é¢‘çš„ä¿å­˜è·¯å¾„</p><p>img-sizeï¼šç½‘ç»œè¾“å…¥å›¾ç‰‡å¤§å°</p><p>conf-thresï¼šç½®ä¿¡åº¦é˜ˆå€¼</p><p>iou-thresï¼šåšnmsçš„ioué˜ˆå€¼</p><p>deviceï¼šè®¾ç½®è®¾å¤‡</p><p>view-imgï¼šæ˜¯å¦å±•ç¤ºé¢„æµ‹ä¹‹åçš„å›¾ç‰‡/è§†é¢‘ï¼Œé»˜è®¤False</p><p>save-txtï¼šæ˜¯å¦å°†é¢„æµ‹çš„æ¡†åæ ‡ä»¥txtæ–‡ä»¶å½¢å¼ä¿å­˜ï¼Œé»˜è®¤False</p><p>classesï¼šè®¾ç½®åªä¿ç•™æŸä¸€éƒ¨åˆ†ç±»åˆ«ï¼Œå½¢å¦‚0æˆ–è€…0 2 3</p><p>agnostic-nmsï¼šè¿›è¡Œnmsæ˜¯å¦ä¹Ÿå»é™¤ä¸åŒç±»åˆ«ä¹‹é—´çš„æ¡†ï¼Œé»˜è®¤False</p><p>augmentï¼šæ¨ç†çš„æ—¶å€™è¿›è¡Œå¤šå°ºåº¦ï¼Œç¿»è½¬ç­‰æ“ä½œ(TTA)æ¨ç†</p><p>updateï¼šå¦‚æœä¸ºTrueï¼Œåˆ™å¯¹æ‰€æœ‰æ¨¡å‹è¿›è¡Œstrip_optimizeræ“ä½œï¼Œå»é™¤ptæ–‡ä»¶ä¸­çš„ä¼˜åŒ–å™¨ç­‰ä¿¡æ¯ï¼Œé»˜è®¤ä¸ºFalse</p><p><strong>ç›®å‰è¿˜ä¸ç”¨ä¿®æ”¹è¿™é‡Œçš„å‚æ•°ï¼Œåé¢è®­ç»ƒå®Œæ¨¡å‹æ‰ä¿®æ”¹æƒé‡æ–‡ä»¶ã€‚</strong></p><h2 id="10-è®­ç»ƒæ¨¡å‹"><a href="#10-è®­ç»ƒæ¨¡å‹" class="headerlink" title="10.è®­ç»ƒæ¨¡å‹"></a>10.è®­ç»ƒæ¨¡å‹</h2><p>è¿è¡Œtrain.pyå¼€å§‹è®­ç»ƒæ¨¡å‹</p><p>å½“é£æ‰‡å¼€å§‹å—¡å—¡è½¬çš„æ—¶å€™å°±è¯´æ˜å¼€å§‹è®­ç»ƒäº†</p><p>æ³¨æ„çš„æ˜¯ï¼Œè®­ç»ƒçš„æ—¶å€™æ¯”è¾ƒåƒå†…å­˜ï¼Œåˆ«æ‰‹è´±æ‰“å¼€é‚£ä¹ˆå¤šé¡µé¢ä»€ä¹ˆçš„</p><p>è·‘å®Œä¹‹åï¼Œä¼šåœ¨runs/train/exp/weights/ä¸‹ç”Ÿæˆ.ptæ–‡ä»¶ï¼Œè¿™ä¸ª<strong>best.pt</strong>æ–‡ä»¶å°±æ˜¯æˆ‘ä»¬è®­ç»ƒå‡ºæ¥çš„æƒé‡æ–‡ä»¶</p><p>å¥½äº†ï¼Œç„¶åå†å›å»detect.pyæ–‡ä»¶é‡Œï¼ŒæŠŠ<strong>æƒé‡æ–‡ä»¶æ¢æˆæˆ‘ä»¬è‡ªå·±è®­ç»ƒçš„æƒé‡æ–‡ä»¶</strong></p><p>ä¹Ÿå°±æ˜¯weightsè¿™ä¸€è¡Œæ”¹æˆè‡ªå·±è®­ç»ƒçš„æƒé‡æ–‡ä»¶çš„è·¯å¾„å³å¯ï¼ŒæŠŠè‡ªå·±è¦æ£€æµ‹çš„æ–‡ä»¶æ”¾åˆ°data/imagesé‡Œï¼Œç„¶åè¿è¡Œdetect.pyå³å¯å¼€å§‹è¯†åˆ«æ‰€å¾—ç»“æœä¼šæ”¾åœ¨runs/detectæ–‡ä»¶å¤¹å†…</p><p>å¤§åŠŸå‘Šæˆï¼ï¼ï¼ï¼ï¼</p>]]></content>
      
      
      <categories>
          
          <category> ç»å† </category>
          
          <category> è®¡ç®—æœºè§†è§‰ </category>
          
          <category> ç¯å¢ƒé…ç½® </category>
          
          <category> yolov </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¡ç®—æœºè§†è§‰ </tag>
            
            <tag> ç¯å¢ƒé…ç½® </tag>
            
            <tag> yolov </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>15å±Šè“æ¡¥æ¯</title>
      <link href="/2024/06/01/15-lan-qiao-bei/"/>
      <url>/2024/06/01/15-lan-qiao-bei/</url>
      
        <content type="html"><![CDATA[<h2 id="è“æ¡¥æ¯"><a href="#è“æ¡¥æ¯" class="headerlink" title="è“æ¡¥æ¯"></a>è“æ¡¥æ¯</h2><p><strong>ä»åˆšå¼€å§‹æŠ¥è€ƒçš„æ—¶å€™ï¼Œè§‰ç€è‡ªå·±èƒ½æ‹¿ä¸ªçœä¸€å°±å¿ƒæ»¡æ„è¶³äº†ï¼Œå½“æ—¶è®¤ä¸ºæ‹¿ä¸ªçœä¸€éå¸¸å›°éš¾ï¼Œæ¯•ç«Ÿåœ¨è“æ¡¥æ¯aç»„ï¼ŒåŒå°é€‰æ‰‹éƒ½æ¯”è¾ƒå‰å®³ï¼Œä½†æ˜¯åˆ°æœ€åè€ƒè¯•çš„æ—¶å€™ï¼Œå‘ç°å…¶å®é¢˜ç›®å¹¶ä¸æ˜¯ç‰¹åˆ«çš„éš¾ï¼Œå½“ç„¶è¿˜æœ‰è‡ªå·±ä¸ä¼šå†™çš„é¢˜ï¼Œè®©æˆ‘æ„Ÿåˆ°æ„å¤–çš„æ˜¯çœèµ›çš„é¢˜å¯¹ç®—æ³•è€ƒå¯Ÿçš„å¹¶ä¸æ˜¯ç‰¹åˆ«å¤šï¼Œä¹Ÿå°±æ˜¯å¦‚æœå¯¹ä¸€äº›å¸¸è§çš„é¢˜å‹æ¯”è¾ƒç†Ÿæ‚‰ï¼Œå¹¶ä¸”ç§¯ç´¯è¶³å¤Ÿçš„ä»£ç é‡ï¼ŒåŸºæœ¬å°±å¯ä»¥æ‹¿ä¸ªçœä¸€ï¼Œæ¯•ç«Ÿè¿™ä¸ªè·å¥–æ¯”ä¾‹ç¡®å®æŒºé«˜çš„ğŸ˜„ğŸ˜„ã€‚</strong><br><strong>è€ƒå®Œçœèµ›åï¼Œçˆ½å®Œäº†åŠä¸ªæœˆï¼Œåœ¨äº”ä¸€æœŸé—´è¿˜å’ŒåŒå­¦ä¸€èµ·å»æ´›é˜³ç©äº†4å¤©ï¼Œå¤©å¤©åƒå¥½åƒçš„ğŸ˜„ã€‚</strong><br><strong>äº”æœˆä¸­æ—¬èŠ±äº†ä¸€ä¸ªæ˜ŸæœŸçš„æ—¶é—´å¤‡è€ƒå›½èµ›ï¼Œä¸è¿‡å›½èµ›é¢˜çœŸéš¾å•Šï¼Œå°¤å…¶æ˜¯ç¬¬13å±Šaç»„é‚£ä¸€å¥—é¢˜ï¼Œçœ‹äº†åŠå¤©å°±ä¼šå†™å‡ºæ¥ä¸€é“ç­¾åˆ°é¢˜ï¼Œå…¶ä»–çš„éƒ½ä¸ä¼šå†™ï¼Œéå¸¸æ‰“å‡»è‡ªä¿¡å¿ƒã€‚åˆ°äº†æœ€åä¸€ä¸ªæ˜ŸæœŸï¼Œæˆ‘æœ¬æ‰“ç®—å†å¤ä¹ å†²åˆºä¸€æ³¢ï¼Œäºæ˜¯æˆ‘å¤ä¹ ä¸€éä¹‹å‰åšè¿‡çš„å‡ å¥—é¢˜ï¼Œæ²¡æƒ³åˆ°å†™å®Œä¸€éä¹‹åè¿˜æ˜¯æœ‰å¾ˆå¤šé¢˜ä¸ä¼šå†™ã€‚å°±è¿™æ ·ç ´ç½å­ç ´æ‘”å§ï¼Œæˆ‘ç›´æ¥å’Œå®¤å‹ç‹‚æ‰“ä¸€ä¸ªæ˜ŸæœŸçš„æ°¸åŠ«æ— é—´å¾ç¥ä¹‹è·¯ï¼Œæˆ‘ç”¨çš„æ˜¯å²³å±±ï¼Œæˆ˜é©¬åˆ€ä¼¤å®³è´¼é«˜ï¼Œå˜å˜ä¹±æ€ã€‚æœ€åå›½èµ›çš„æ—¶å€™ï¼Œæ„Ÿè§‰å†™çš„è¿˜ä¸é”™ï¼Œä¼šå†™çš„éƒ½å†™ä¸Šäº†ï¼Œéƒ¨åˆ†é¢˜ä¹Ÿèƒ½æ··å‡ åˆ†ï¼Œå”¯ä¸€é—æ†¾çš„æ˜¯åˆ°æœ€åååˆ†é’Ÿçš„æ—¶å€™å‘ç°æœ‰ä¸€é“ç®€å•çš„15åˆ†çš„é¢˜è¢«æˆ‘å¿½ç•¥äº†ï¼Œæˆ‘ä¸€å¼€å§‹æ˜¯å†™å®Œç¬¬ä¸€é“å¤§é¢˜ï¼Œçœ‹äº†åŠå¤©ç¬¬äºŒé“å¤§é¢˜ï¼Œå°±ç›´æ¥ä»åé¢å¼€å§‹å†™äº†ï¼Œæ²¡æƒ³åˆ°æœ€åéš”äº†ä¸€é“æŒºç®€å•çš„ä¸€é“é¢˜ï¼Œå¥½åƒæ˜¯å…³äºæ±‚æ»¡è¶³ä¸€ä¸ªå…¬å¼çš„æœ€å¤§é•¿åº¦ä»€ä¹ˆçš„ï¼Œæ²¡æ—¶é—´ç å‡ºæ¥äº†ğŸ˜­ã€‚æœ€åæ‹¿äº†ä¸ªå›½ä¼˜ç§€å¥–ï¼Œè¿˜æ˜¯æŒºæ»¡æ„çš„ã€‚</strong></p>]]></content>
      
      
      <categories>
          
          <category> ç»å† </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç»å† </tag>
            
            <tag> è“æ¡¥æ¯ </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
